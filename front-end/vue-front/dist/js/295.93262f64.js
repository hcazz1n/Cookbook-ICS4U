"use strict";(self["webpackChunkvue_front"]=self["webpackChunkvue_front"]||[]).push([[295],{7295:function(e,i,s){s.r(i),s.d(i,{default:function(){return H}});var a=s(3396),t=s(7139),c=s(9242);const n={key:0,class:"recipe-container hero is-fullheight-with-navbar has-background-lighter"},r={class:"profile-container"},o=["src"],l=(0,a._)("h2",{class:"recipe-username-header"},"Curated By:",-1),p={class:"recipe-buttons"},h=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fa-solid fa-arrow-left"})],-1),d=[h],g=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fa-solid fa-arrow-right"})],-1),u=[g],_=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fa-solid fa-bookmark"})],-1),m=[_],f=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fa-solid fa-x"})],-1),k=[f],v=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fa-solid fa-arrow-right-from-bracket"})],-1),w=[v],b={class:"field search"},y={class:"control has-icons-right searchsearch"},R=(0,a._)("span",{class:"icon is-small is-right"},[(0,a._)("i",{class:"fa-solid fa-magnifying-glass search-mag-glass"})],-1),D=[R],I={class:"recipe-box box"},C={key:0,class:"title-page-recipe-view"},x=["src"],q={key:1,class:"ingredient-instruction-title-recipe-view"},z=(0,a._)("div",{class:"ingredient-instruction-title has-text-black animate__animated animate__fadeIn"},"Ingredients",-1),P={key:0,class:"ingredient-instruction-list"},Z={key:2,class:"ingredient-instruction-title-recipe-view"},N=(0,a._)("div",{class:"ingredient-instruction-title has-text-black animate__animated animate__fadeIn"},"Instructions",-1),$={key:0,class:"ingredient-instruction-list"};function S(e,i,s,h,g,_){return _.recipe?((0,a.wg)(),(0,a.iD)("section",n,[(0,a._)("div",r,[(0,a._)("img",{class:"c-recipe",src:`${this.recipe.images}`},null,8,o),l,((0,a.wg)(),(0,a.iD)("h2",{class:"recipe-username",key:_.recipe.id},(0,t.zw)(_.recipe.author),1))]),(0,a._)("div",p,[(0,a._)("div",{onClick:i[0]||(i[0]=(...e)=>_.decreasePage&&_.decreasePage(...e)),class:"button recipe-button"},d),(0,a._)("div",{onClick:i[1]||(i[1]=(...e)=>_.increasePage&&_.increasePage(...e)),class:"button recipe-button"},u),(0,a._)("div",{onClick:i[2]||(i[2]=(...e)=>_.saveRecipe&&_.saveRecipe(...e)),class:"button recipe-button"},m),(0,a._)("div",{onClick:i[3]||(i[3]=(...e)=>_.deleteRecipe&&_.deleteRecipe(...e)),class:"button recipe-button delete-button"},k),(0,a._)("div",{onClick:i[4]||(i[4]=(...e)=>_.nextRecipe&&_.nextRecipe(...e)),class:"button recipe-button skip-button"},w)]),(0,a._)("div",b,[(0,a._)("div",y,[(0,a.wy)((0,a._)("input",{class:"input searchbar",type:"text",placeholder:"Search Recipes...","onUpdate:modelValue":i[5]||(i[5]=e=>g.search=e)},null,512),[[c.nr,g.search]]),(0,a._)("div",{onClick:i[6]||(i[6]=e=>_.searchRecipe()),class:"button searchbutton"},D)])]),(0,a._)("div",I,[0==g.page?((0,a.wg)(),(0,a.iD)("div",C,[_.recipe?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"recipe-img animate__animated animate__fadeIn",src:`${this.recipe.images}`},null,8,x)):(0,a.kq)("",!0),_.recipe?((0,a.wg)(),(0,a.iD)("div",{class:"recipe-title has-text-black animate__animated animate__fadeIn",key:_.recipe.id},(0,t.zw)(_.recipe.name),1)):(0,a.kq)("",!0)])):1==g.page?((0,a.wg)(),(0,a.iD)("div",q,[z,_.recipe?((0,a.wg)(),(0,a.iD)("ul",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.recipe.ingredients,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"animate__animated animate__fadeIn is-size-6",key:e.id},(0,t.zw)(e),1)))),128))])):(0,a.kq)("",!0)])):2==g.page?((0,a.wg)(),(0,a.iD)("div",Z,[N,_.recipe?((0,a.wg)(),(0,a.iD)("ul",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.recipe.instructions,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"animate__animated animate__fadeIn is-size-6",key:e.id},(0,t.zw)(e),1)))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)}var U=s(4161);window.addEventListener("load",(function(){window.scrollBy(0,-2e3)}));var Y={data(){return{data:[],page:0,search:"",recipes:[]}},props:{id:{type:Number,required:!0}},computed:{recipe(){return this.data.find((e=>e.id===this.id))}},methods:{searchRecipe(){U.Z.post("http://localhost:3000/search",{search:this.search}).then((e=>{this.recipes=e.data,console.log(this.recipes);while(this.recipe.name!=this.recipes[0].name)this.recipe.id++})).catch((e=>{console.log(e)}))},decreasePage(){0!=this.page&&this.page--},increasePage(){2!=this.page&&this.page++},deleteRecipe(){var e=this.recipe._id;console.log(e),"Cookbook"==sessionStorage.getItem("userName")?(U.Z["delete"](`http://localhost:3000/api/recipes/${e}`).then((e=>{console.log(e),location.reload()})),this.recipe.id++,this.page=0):console.log("Nothing will happen unless you are the ADMIN.")},saveRecipe(){var e=sessionStorage.getItem("user_id");console.log(this.recipe),U.Z.put(`http://localhost:3000/api/users/${e}`,{favouriteRecipe:this.recipe}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},nextRecipe(){"You Reached the End Of the Recipes! Congrats!"!=this.recipe.name&&this.recipe.id++,this.page=0},fetchRecipes(){U.Z.get("http://localhost:3000/api/recipes").then((e=>{this.data=e.data,console.log(this.data)})).catch((e=>{console.log(e)}))},fetchUsers(){var e=sessionStorage.getItem("user_id");U.Z.get(`http://localhost:3000/api/users/${e}`).then((e=>{this.user=e.data,console.log(this.user.userName),console.log(this.user.bio),console.log(this.user.favouriteRecipes)})).catch((e=>{console.log(e)}))}},beforeMount(){this.fetchRecipes(),this.fetchUsers()}},B=s(89);const E=(0,B.Z)(Y,[["render",S]]);var H=E}}]);
//# sourceMappingURL=295.93262f64.js.map