{"version":3,"file":"js/408.a8e24560.js","mappings":"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","sources":["webpack://vue-front/./src/views/AccountView.vue","webpack://vue-front/./src/views/AccountView.vue?adce"],"sourcesContent":["<template>\r\n  <button id=\"logout\" class=\"login-register-button logout\" @click=\"logout()\">\r\n    Logout\r\n  </button>\r\n  <section\r\n    class=\"hero is-fullheight-with-navbar has-text-centered\"\r\n    id=\"account-profile-hero\"\r\n  >\r\n  \r\n    <div class=\"columns\" id=\"account-columns\">\r\n      <div class=\"column is-3 is-offset-1\" id=\"profile-column\">\r\n        <div class=\"container\" id=\"account-profile-container\">\r\n          <img class=\"profile-circle\" :src=\"`${this.user.profilePic}`\">\r\n          <h1 class=\"username\">{{ this.user.userName }}</h1>\r\n          <h2 class=\"biography\">Biography</h2>\r\n          <p class=\"biography-content\">{{ this.user.bio }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"column is-8\" id=\"favourite-recipes\">\r\n        <div class=\"container\" id=\"account-favourite-recipe\">\r\n          <h1 class=\"title\">Favourite Recipes</h1>\r\n          <ul>\r\n            <li class=\"favourite-recipe-list\" v-for=\"recipe in objectFavouritedRecipes\" :key=\"recipe.name\">\r\n              <img class=\"c-recipe favourite-account-img\" :src=\"`${recipe.images}`\">\r\n              <div class=\"text-favourite-recipe\">\r\n                {{ recipe.author }}'s Dish: {{ recipe.name }}\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nwindow.addEventListener('load', function () {\r\n  window.scrollBy(0, -2000)\r\n})\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      recipes: [],\r\n      filteredRecipes: [],\r\n      favouritedRecipes: [],\r\n      objectFavouritedRecipes: [],\r\n      user: [],\r\n    }\r\n  },\r\n  methods: {\r\n    fetchRecipes() {\r\n      var userName = sessionStorage.getItem('userName')\r\n      axios\r\n        .get('http://localhost:3000/api/recipes')\r\n        .then((response) => {\r\n          this.recipes = response.data\r\n          console.log(this.recipes)\r\n          for (let i = 0; i < this.recipes.length; i++) {\r\n            if (this.recipes[i].author === userName) {\r\n              this.filteredRecipes = [...this.filteredRecipes, this.recipes[i]]\r\n            }\r\n          }\r\n          console.log(this.filteredRecipes)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    fetchUsers() {\r\n      var user_id = sessionStorage.getItem('user_id')\r\n      axios\r\n        .get(`http://localhost:3000/api/users/${user_id}`)\r\n        .then((response) => {\r\n          this.user = response.data\r\n          console.log(this.user.userName)\r\n          console.log(this.user.bio)\r\n          for (let i = 0; i < this.user.favouriteRecipes.length; i++) {\r\n            if (\r\n              this.favouritedRecipes.includes(this.user.favouriteRecipes[i])\r\n            ) {\r\n              console.log('has already')\r\n            } else {\r\n              this.favouritedRecipes = [\r\n                ...this.favouritedRecipes,\r\n                this.user.favouriteRecipes[i],\r\n              ]\r\n            }\r\n          }\r\n          console.log(this.favouritedRecipes)\r\n          for (let i = 0; i < this.favouritedRecipes.length; i++) {\r\n            let recipeId = this.favouritedRecipes[i]\r\n            axios\r\n              .get(`http://localhost:3000/api/recipes/${recipeId}`)\r\n              .then((response) => {\r\n                console.log(response.data)\r\n                if(response.data == null){\r\n                  console.log(\"hello\")\r\n                }else{\r\n                this.objectFavouritedRecipes = [\r\n                  ...this.objectFavouritedRecipes,\r\n                  response.data,\r\n                ]\r\n                }\r\n              })\r\n          }\r\n          console.log(this.objectFavouritedRecipes)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    logout() {\r\n      axios\r\n        .get('http://localhost:3000/logout')\r\n        .then((response) => {\r\n          console.log(response)\r\n          sessionStorage.setItem('user_id', '')\r\n          sessionStorage.setItem('userDescription', '')\r\n          sessionStorage.setItem('userName', '')\r\n          sessionStorage.setItem('loggedIn', false)\r\n          this.$router.push('/')\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.fetchRecipes()\r\n    this.fetchUsers()\r\n  },\r\n}\r\n</script>\r\n","import { render } from \"./AccountView.vue?vue&type=template&id=8e2e78c6\"\nimport script from \"./AccountView.vue?vue&type=script&lang=js\"\nexport * from \"./AccountView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\hcazzin\\\\Documents\\\\ICS4U202223WS\\\\Cookbook-ICS4U\\\\front-end\\\\vue-front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","onClick","_cache","$event","$options","logout","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","src","user","profilePic","_hoisted_6","_toDisplayString","userName","_hoisted_7","_hoisted_8","bio","_hoisted_9","_hoisted_10","_hoisted_11","_createElementBlock","_Fragment","_renderList","$data","objectFavouritedRecipes","recipe","key","name","images","_hoisted_13","author","window","addEventListener","scrollBy","data","recipes","filteredRecipes","favouritedRecipes","methods","fetchRecipes","sessionStorage","getItem","axios","then","response","this","console","log","i","length","catch","error","fetchUsers","user_id","favouriteRecipes","includes","recipeId","setItem","$router","push","beforeMount","__exports__","render"],"sourceRoot":""}